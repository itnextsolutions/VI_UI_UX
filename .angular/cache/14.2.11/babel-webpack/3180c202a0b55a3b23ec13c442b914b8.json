{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nimport { UntypedFormGroup, Validators } from '@angular/forms';\nlet LoginComponent = class LoginComponent {\n  constructor(service, router, formBuilder) {\n    this.service = service;\n    this.router = router;\n    this.formBuilder = formBuilder;\n    this.form = new UntypedFormGroup({});\n    this.loginForm = new UntypedFormGroup({});\n    this.submitted = false;\n    this.username = \"\";\n    this.password = \"\";\n    this.invalid_msg = \"\";\n    this.msg = \"\";\n    this.invalidLogin = true;\n  }\n  ngOnInit() {\n    this.loginForm = this.formBuilder.group({\n      username: [\"\", [Validators.required]],\n      password: [\"\", [Validators.required]]\n    });\n    this.username = this.login.username;\n    this.password = this.login.password;\n    this.invalid_msg = \"\";\n  }\n  // ngOnInit(): void {\n  //   this.loginForm = this.formBuilder.group({\n  //     email: [\"\", [Validators.email, Validators.required]],\n  //     password: [\n  //       \"\",\n  //       [\n  //         Validators.required\n  //       ]\n  //     ]\n  //   });\n  // }\n  get formControl() {\n    return this.loginForm.controls;\n  }\n  CheckLogin() {\n    this.submitted = true;\n    if (this.loginForm.valid) {\n      var val = {\n        username: this.username,\n        password: this.password\n      };\n      this.service.Login(val).subscribe({\n        next: response => {\n          const token = response.token;\n          localStorage.setItem(\"jwt\", token);\n          this.invalidLogin = false;\n          this.router.navigate([\"admin/product-category\"]);\n        },\n        error: err => this.invalidLogin = true\n      });\n    }\n    // CheckLogin(){\n    //   this.submitted = true;\n    //   if (this.loginForm.valid){\n    //   var val = {\n    //     username:this.username,\n    //     password:this.password,\n    //   };\n    //     this.service.Login(val).subscribe(res =>{\n    //       if(res == \"Success\"){\n    //         this.router.navigate(['admin/product-category']);    \n    //       }\n    //       else\n    //       {\n    //         this.router.navigate(['admin/Login']);  \n    //         this.invalid_msg=res.toString();\n    //         //alert(res.toString());\n    //       }\n    //     })\n    //   }\n    // }\n    // onLogin(): void {\n    //   // console.log(this.loginForm.value);\n    //   this.submitted = true;\n    //   if (this.loginForm.valid) {\n    //     console.log(this.loginForm.value);\n    //     localStorage.setItem(\"user-Data\", JSON.stringify(this.loginForm.value));\n    //     this.router.navigate([\"/\"]);\n    //   }\n    // }\n  }\n};\n\n__decorate([Input()], LoginComponent.prototype, \"login\", void 0);\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);\nexport { LoginComponent };","map":null,"metadata":{},"sourceType":"module"}