{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ShowCustomerReviewComponent = class ShowCustomerReviewComponent {\n  constructor(sharedService, paginationService) {\n    this.sharedService = sharedService;\n    this.paginationService = paginationService;\n    this.CustomerReviewList = [];\n    this.pageNo = 1;\n    this.pageNumber = [];\n    this.activateAddEditCustReviewCom = false;\n    this.pageField = [];\n    this.custreviewPerPage = 10;\n  }\n  ngOnInit() {\n    //this.refreshCust_ReviewList();\n    this.getAllReview();\n  }\n  refreshCust_ReviewList() {\n    this.sharedService.getCustomerReview().subscribe(data => {\n      this.CustomerReviewList = data;\n    });\n  }\n  getAllReview() {\n    this.sharedService.getCustReviewPagination(this.pageNo, this.custreviewPerPage).subscribe(data => {\n      this.CustomerReviewList = data;\n      this.getAllCustReviewCount();\n    });\n  }\n  //Method For Pagination  \n  totalNoOfPages() {\n    this.paginationData = Number(this.total / this.custreviewPerPage);\n    let tempPageData = this.paginationData.toFixed();\n    if (Number(tempPageData) < this.paginationData) {\n      this.exactPageList = Number(tempPageData) + 1;\n      this.paginationService.exactPageList = this.exactPageList;\n    } else {\n      this.exactPageList = Number(tempPageData);\n      this.paginationService.exactPageList = this.exactPageList;\n    }\n    this.paginationService.pageOnLoad();\n    this.pageField = this.paginationService.pageField;\n  }\n  showgetCustReviewByPageNumber(page, i) {\n    this.CustomerReviewList = [];\n    this.pageNumber = [];\n    this.pageNumber[i] = true;\n    this.pageNo = page;\n    this.getAllReview();\n  }\n  getAllCustReviewCount() {\n    this.sharedService.getCustReviewCount().subscribe(data => {\n      this.totalcustreviewCount = data;\n      if (this.totalcustreviewCount != null) {\n        this.totalcustreviewCount.forEach(element => {\n          this.total = element.totalcount;\n        });\n      }\n      this.totalNoOfPages();\n    });\n  }\n  AddCust_Review() {\n    this.cust_review = {\n      Customer_Review_Id: 0,\n      Client_Name: \"\",\n      Profession: \"\",\n      Review: \"\",\n      Client_Photo: \"\",\n      Rating: \"\"\n    };\n    this.modalTitle = \"Add Client Review\";\n    this.activateAddEditCustReviewCom = true;\n  }\n  EditCust_Review(item) {\n    this.cust_review = item;\n    this.activateAddEditCustReviewCom = true;\n    this.modalTitle = \"Update Client Review\";\n  }\n  closeClick() {\n    this.activateAddEditCustReviewCom = false;\n    this.getAllReview();\n  }\n  deleteClick(item) {\n    if (confirm('Are you sure??')) {\n      this.sharedService.deleteCustReview(item).subscribe(data => {\n        alert(data.toString());\n        this.getAllReview();\n      });\n    }\n  }\n};\nShowCustomerReviewComponent = __decorate([Component({\n  selector: 'app-show-customer-review',\n  templateUrl: './show-customer-review.component.html',\n  styleUrls: ['./show-customer-review.component.css']\n})], ShowCustomerReviewComponent);\nexport { ShowCustomerReviewComponent };","map":null,"metadata":{},"sourceType":"module"}